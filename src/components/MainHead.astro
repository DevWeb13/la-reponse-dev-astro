---
import '../styles/global.css'

interface Props {
    title?: string | undefined
    description?: string | undefined
}

import SpeedInsights from '@vercel/speed-insights/astro'
const {
    title = 'Giuliano Loic | La ReponseDev',
    description = 'Le site de Giuliano Loic, d√©veloppeur web',
} = Astro.props
---

<meta charset="UTF-8" />
<meta name="description" property="og:description" content={description} />
<meta name="viewport" content="width=device-width" />
<meta name="generator" content={Astro.generator} />
<title>{title}</title>

<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
    href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,400;0,700;1,400&family=Rubik:wght@500;600&display=swap"
    rel="stylesheet"
/>
<link rel="sitemap" href="/sitemap-index.xml" />
<script is:inline>
    // This code is inlined in the head to make dark mode instant & blocking.
    const getThemePreference = () => {
        if (
            typeof localStorage !== 'undefined' &&
            localStorage.getItem('theme')
        ) {
            return localStorage.getItem('theme')
        }
        return window.matchMedia('(prefers-color-scheme: dark)').matches
            ? 'dark'
            : 'light'
    }
    const isDark = getThemePreference() === 'dark'
    document.documentElement.classList[isDark ? 'add' : 'remove']('theme-dark')

    if (typeof localStorage !== 'undefined') {
        // Watch the document element and persist user preference when it changes.
        const observer = new MutationObserver(() => {
            const isDark =
                document.documentElement.classList.contains('theme-dark')
            localStorage.setItem('theme', isDark ? 'dark' : 'light')
        })
        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['class'],
        })
    }
</script>

<SpeedInsights />
<script
    async
    type="module"
    src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"
></script>

<!-- Google AdSense -->
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2091224773462896"
    crossorigin="anonymous"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DKG4CT39WL"
></script>
<script type="text/javascript">
    window.dataLayer = window.dataLayer || []
    function gtag() {
        dataLayer.push(arguments)
    }
    gtag('js', new Date())

    gtag('config', 'G-DKG4CT39WL')
</script>

<!-- Google ADSense disable pub blocker navigator message -->
<script
    async
    src="https://fundingchoicesmessages.google.com/i/pub-2091224773462896?ers=1"
    nonce="lLQKDYKmR_eZ5nMp5pkIRA"></script>
<script nonce="lLQKDYKmR_eZ5nMp5pkIRA" type="text/javascript">
    ;(function () {
        function signalGooglefcPresent() {
            if (!window.frames['googlefcPresent']) {
                if (document.body) {
                    const iframe = document.createElement('iframe')
                    iframe.style =
                        'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'
                    iframe.style.display = 'none'
                    iframe.name = 'googlefcPresent'
                    document.body.appendChild(iframe)
                } else {
                    setTimeout(signalGooglefcPresent, 0)
                }
            }
        }
        signalGooglefcPresent()
    })()
</script>
